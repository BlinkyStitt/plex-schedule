<html lang="en">
<head>
    <meta charset=utf-8/>
</head>
<body>

<h1>Unwatched Playlist</h1>

<a href="{{ url_for('plex_m3u8') }}">Open with VLC</a>


<h1>Next Unwatched</h1>

<video
    id="next_unwatched_video"
    width="640"
    height="480"
    src="{{ next_unwatched|safe }}"
    controls autoplay
/>
<script type='text/javascript'>
    document.getElementById('next_unwatched_video').addEventListener('ended', myHandler, false);
    function myHandler(e) {
        # TODO! mark the video watched
        location.reload();
    }
</script>

<!-- todo:
 - form to customize the plex_m3u8
 - button to mark show watched and then refresh the page (or maybe just delay the show)
 - instead of reloading the whole page, just update the video element
 - admin interface to force a show/movie to be next
 - easily filter by show
-->

</body>
</html>
